import{_ as w,c as R,o as c,a as m,w as t,b as _,d as s,e as v,t as C,f as H,u as B,g as S,E as V,m as L,r as o,h as D,i as h,j as $,F as y,k as M,l as N,n as U}from"./index-0d6cf593.js";import{_ as E}from"./logoDark-f954f75b.js";const J="/backstage/assets/cat-4ee74e2f.svg",W="/backstage/assets/computer-64724a02.svg",j="/backstage/assets/defaultUser-867c94b4.svg",z="/backstage/assets/github-18307c3b.svg",F="/backstage/assets/logo-e3f620f9.svg",I="/backstage/assets/logoDark-d41f61f3.svg";const O={setup(){let a=B(),u=S();const i=l=>new URL(Object.assign({"../assets/cat.svg":J,"../assets/computer.svg":W,"../assets/defaultUser.svg":j,"../assets/github.svg":z,"../assets/logo.svg":F,"../assets/logoDark.svg":I})[`../assets/${l}.svg`],self.location).href;let e=()=>{a.commit("updateBarCollapse")};const f=R(()=>a.state.currentMenu);return{getImgSrc:i,hideSidebar:e,current:f,logoutHandler:()=>{V.confirm("确定退出登录吗?","提示",{type:"warning",icon:L(D),cancelButtonText:"取消",confirmButtonText:"确定",confirmButtonClass:"el-messageBox-confirm",cancelButtonClass:"el-messageBox-cancel"}).then(()=>{a.commit("isLogout"),u.push({name:"login"})}).catch(()=>{})},personHandler:()=>{u.push({name:"personal"})}}}},q={class:"h-left"},A={class:"h-right"},G={class:"el-dropdown-link"},K=["src"];function P(a,u,i,e,f,b){const n=o("Menu"),l=o("el-icon"),p=o("el-button"),g=o("el-breadcrumb-item"),k=o("el-breadcrumb"),r=o("el-dropdown-item"),d=o("el-dropdown-menu"),x=o("el-dropdown"),T=o("el-header");return c(),m(T,{class:"header-container"},{default:t(()=>[_("div",q,[s(p,{size:"small",color:"#e3d9d0",title:a.$store.state.barCollapse?"显示菜单":"折叠菜单",onClick:e.hideSidebar},{default:t(()=>[s(l,{size:18,color:"#2cb2c2"},{default:t(()=>[s(n)]),_:1})]),_:1},8,["title","onClick"]),s(k,{separator:"/",class:"bread"},{default:t(()=>[s(g,{to:{path:"/"}},{default:t(()=>[v("首页")]),_:1}),e.current?(c(),m(g,{key:0,to:e.current.path},{default:t(()=>[v(C(e.current.label),1)]),_:1},8,["to"])):H("",!0)]),_:1})]),_("div",A,[s(x,null,{dropdown:t(()=>[s(d,null,{default:t(()=>[s(r,{onClick:e.personHandler},{default:t(()=>[v("个人中心")]),_:1},8,["onClick"]),s(r,{onClick:e.logoutHandler},{default:t(()=>[v("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:t(()=>[_("span",G,[_("img",{src:e.getImgSrc("defaultUser"),alt:""},null,8,K)])]),_:1})])]),_:1})}const Q=w(O,[["render",P]]),X="/backstage/assets/github-18307c3b.svg";const Y={setup(){const a=S(),u=B(),i=u.state.sidebarMenu;return{noChildren:()=>i.filter(n=>!n.children),hasChildren:()=>i.filter(n=>n.children),clickMenu:n=>{a.push({name:n.name}),u.commit("selectSidebarMenu",n)}}}},Z={class:"logo"},ee=_("img",{src:E,alt:"logo"},null,-1),te={key:0},ne={class:"copyRight"},oe=_("a",{href:"https://github.com/Wu-JunHui/backstage",target:"_blank"},[_("img",{src:X,alt:"github"})],-1),se={key:0,class:"authorInfo"},ae=_("br",null,null,-1),le=_("a",{href:"https://github.com/Wu-JunHui/",target:"_blank"},"Wu-JunHui",-1);function ce(a,u,i,e,f,b){const n=o("el-icon"),l=o("el-menu-item"),p=o("el-menu-item-group"),g=o("el-sub-menu"),k=o("el-menu");return c(),m(k,{class:"el-menu-vertical-demo",collapse:a.$store.state.barCollapse,"collapse-transition":!1,"text-color":"#fff","active-text-color":"#2cb2c2","background-color":"#3b3c3d","default-active":a.$store.state.currentMenu?a.$store.state.currentMenu.path:"/home"},{default:t(()=>[_("div",Z,[ee,a.$store.state.barCollapse?H("",!0):(c(),h("h3",te,"后台管理系统"))]),(c(!0),h(y,null,$(e.noChildren(),r=>(c(),m(l,{index:r.path,key:r.path,onClick:d=>e.clickMenu(r)},{default:t(()=>[s(n,null,{default:t(()=>[(c(),m(M(r.icon),{class:"icons"}))]),_:2},1024),_("span",null,C(r.label),1)]),_:2},1032,["index","onClick"]))),128)),(c(!0),h(y,null,$(e.hasChildren(),r=>(c(),m(g,{index:r.label,key:r.path},{title:t(()=>[s(n,null,{default:t(()=>[(c(),m(M(r.icon),{class:"icons"}))]),_:2},1024),_("span",null,C(r.label),1)]),default:t(()=>[s(p,null,{default:t(()=>[(c(!0),h(y,null,$(r.children,(d,x)=>(c(),m(l,{index:d.path,key:x,onClick:T=>e.clickMenu(d)},{default:t(()=>[s(n,null,{default:t(()=>[(c(),m(M(d.icon),{class:"icons"}))]),_:2},1024),_("span",null,C(d.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1024)]),_:2},1032,["index"]))),128)),_("div",ne,[oe,a.$store.state.barCollapse?H("",!0):(c(),h("div",se,[v("Made with ❤️ by "),ae,le]))])]),_:1},8,["collapse","default-active"])}const re=w(Y,[["render",ce]]);const _e={setup(){const a=B(),u=S(),i=N(),e=a.state.tagList;return{tags:e,changeMenu:n=>{u.push({name:n.name})},closeTag:(n,l)=>{const p=e.length-1;a.commit("closeTag",n),n.name===i.name&&(l===p?u.push({name:e[l-1].name}):u.push({name:e[l].name}))}}}},ue={class:"tag-container"};function ie(a,u,i,e,f,b){const n=o("el-tag");return c(),h("div",ue,[(c(!0),h(y,null,$(e.tags,(l,p)=>(c(),m(n,{key:l.name,closable:l.name!=="home",effect:a.$route.name===l.name?"dark":"plain",onClick:g=>e.changeMenu(l),onClose:g=>e.closeTag(l,p)},{default:t(()=>[v(C(l.label),1)]),_:2},1032,["closable","effect","onClick","onClose"]))),128))])}const de=w(_e,[["render",ie]]);const me=U({components:{Header:Q,Sidebar:re,Tags:de}}),pe={class:"layout-container"};function ge(a,u,i,e,f,b){const n=o("Sidebar"),l=o("Header"),p=o("el-header"),g=o("Tags"),k=o("RouterView"),r=o("el-main"),d=o("el-container");return c(),h("div",pe,[s(d,null,{default:t(()=>[s(n),s(d,null,{default:t(()=>[s(p,null,{default:t(()=>[s(l)]),_:1}),s(r,null,{default:t(()=>[s(g),s(k)]),_:1})]),_:1})]),_:1})])}const be=w(me,[["render",ge]]);export{be as default};
