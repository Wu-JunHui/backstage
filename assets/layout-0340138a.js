import{_ as w,c as R,o as c,a as m,w as n,b as _,d as s,e as k,t as C,f as H,u as T,g as B,E as V,m as L,r as o,h as D,i as h,j as $,F as y,k as M,l as N,n as U}from"./index-6d6ec8ba.js";import{_ as E}from"./logoDark-f954f75b.js";const J="/backstage/assets/defaultUser-867c94b4.svg",W="/backstage/assets/github-18307c3b.svg",j="/backstage/assets/logo-e3f620f9.svg",z="/backstage/assets/logoDark-d41f61f3.svg",F="/backstage/assets/mobileTips-64724a02.svg";const I={setup(){let a=T(),i=B();const u=l=>new URL(Object.assign({"../assets/defaultUser.svg":J,"../assets/github.svg":W,"../assets/logo.svg":j,"../assets/logoDark.svg":z,"../assets/mobileTips.svg":F})[`../assets/${l}.svg`],self.location).href;let e=()=>{a.commit("updateBarCollapse")};const f=R(()=>a.state.currentMenu);return{getImgSrc:u,hideSidebar:e,current:f,logoutHandler:()=>{V.confirm("确定退出登录吗?","提示",{type:"warning",icon:L(D),cancelButtonText:"取消",confirmButtonText:"确定",confirmButtonClass:"el-messageBox-confirm",cancelButtonClass:"el-messageBox-cancel"}).then(()=>{a.commit("isLogout"),i.push({name:"login"})}).catch(()=>{})},personHandler:()=>{i.push({name:"personal"})}}}},O={class:"h-left"},q={class:"h-right"},A={class:"el-dropdown-link"},G=["src"];function K(a,i,u,e,f,b){const t=o("Menu"),l=o("el-icon"),p=o("el-button"),g=o("el-breadcrumb-item"),v=o("el-breadcrumb"),r=o("el-dropdown-item"),d=o("el-dropdown-menu"),x=o("el-dropdown"),S=o("el-header");return c(),m(S,{class:"header-container"},{default:n(()=>[_("div",O,[s(p,{size:"small",color:"#e3d9d0",title:a.$store.state.barCollapse?"显示菜单":"折叠菜单",onClick:e.hideSidebar},{default:n(()=>[s(l,{size:18,color:"#2cb2c2"},{default:n(()=>[s(t)]),_:1})]),_:1},8,["title","onClick"]),s(v,{separator:"/",class:"bread"},{default:n(()=>[s(g,{to:{path:"/"}},{default:n(()=>[k("首页")]),_:1}),e.current?(c(),m(g,{key:0,to:e.current.path},{default:n(()=>[k(C(e.current.label),1)]),_:1},8,["to"])):H("",!0)]),_:1})]),_("div",q,[s(x,null,{dropdown:n(()=>[s(d,null,{default:n(()=>[s(r,{onClick:e.personHandler},{default:n(()=>[k("个人中心")]),_:1},8,["onClick"]),s(r,{onClick:e.logoutHandler},{default:n(()=>[k("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[_("span",A,[_("img",{src:e.getImgSrc("defaultUser"),alt:""},null,8,G)])]),_:1})])]),_:1})}const P=w(I,[["render",K]]),Q="/backstage/assets/github-18307c3b.svg";const X={setup(){const a=B(),i=T(),u=i.state.sidebarMenu;return{noChildren:()=>u.filter(t=>!t.children),hasChildren:()=>u.filter(t=>t.children),clickMenu:t=>{a.push({name:t.name}),i.commit("selectSidebarMenu",t)}}}},Y={class:"logo"},Z=_("img",{src:E,alt:"logo"},null,-1),ee={key:0},ne={class:"copyRight"},te=_("a",{href:"https://github.com/Wu-JunHui/backstage",target:"_blank"},[_("img",{src:Q,alt:"github"})],-1),oe={key:0,class:"authorInfo"},se=_("br",null,null,-1),ae=_("a",{href:"https://github.com/Wu-JunHui/",target:"_blank"},"Wu-JunHui",-1);function le(a,i,u,e,f,b){const t=o("el-icon"),l=o("el-menu-item"),p=o("el-menu-item-group"),g=o("el-sub-menu"),v=o("el-menu");return c(),m(v,{class:"el-menu-vertical-demo",collapse:a.$store.state.barCollapse,"collapse-transition":!1,"text-color":"#fff","active-text-color":"#2cb2c2","background-color":"#3b3c3d","default-active":a.$store.state.currentMenu?a.$store.state.currentMenu.path:"/home"},{default:n(()=>[_("div",Y,[Z,a.$store.state.barCollapse?H("",!0):(c(),h("h3",ee,"后台管理系统"))]),(c(!0),h(y,null,$(e.noChildren(),r=>(c(),m(l,{index:r.path,key:r.path,onClick:d=>e.clickMenu(r)},{default:n(()=>[s(t,null,{default:n(()=>[(c(),m(M(r.icon),{class:"icons"}))]),_:2},1024),_("span",null,C(r.label),1)]),_:2},1032,["index","onClick"]))),128)),(c(!0),h(y,null,$(e.hasChildren(),r=>(c(),m(g,{index:r.label,key:r.path},{title:n(()=>[s(t,null,{default:n(()=>[(c(),m(M(r.icon),{class:"icons"}))]),_:2},1024),_("span",null,C(r.label),1)]),default:n(()=>[s(p,null,{default:n(()=>[(c(!0),h(y,null,$(r.children,(d,x)=>(c(),m(l,{index:d.path,key:x,onClick:S=>e.clickMenu(d)},{default:n(()=>[s(t,null,{default:n(()=>[(c(),m(M(d.icon),{class:"icons"}))]),_:2},1024),_("span",null,C(d.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1024)]),_:2},1032,["index"]))),128)),_("div",ne,[te,a.$store.state.barCollapse?H("",!0):(c(),h("div",oe,[k("Made with ❤️ by "),se,ae]))])]),_:1},8,["collapse","default-active"])}const ce=w(X,[["render",le]]);const re={setup(){const a=T(),i=B(),u=N(),e=a.state.tagList;return{tags:e,changeMenu:t=>{i.push({name:t.name})},closeTag:(t,l)=>{const p=e.length-1;a.commit("closeTag",t),t.name===u.name&&(l===p?i.push({name:e[l-1].name}):i.push({name:e[l].name}))}}}},_e={class:"tag-container"};function ie(a,i,u,e,f,b){const t=o("el-tag");return c(),h("div",_e,[(c(!0),h(y,null,$(e.tags,(l,p)=>(c(),m(t,{key:l.name,closable:l.name!=="home",effect:a.$route.name===l.name?"dark":"plain",onClick:g=>e.changeMenu(l),onClose:g=>e.closeTag(l,p)},{default:n(()=>[k(C(l.label),1)]),_:2},1032,["closable","effect","onClick","onClose"]))),128))])}const ue=w(re,[["render",ie]]);const de=U({components:{Header:P,Sidebar:ce,Tags:ue}}),me={class:"layout-container"};function pe(a,i,u,e,f,b){const t=o("Sidebar"),l=o("Header"),p=o("el-header"),g=o("Tags"),v=o("RouterView"),r=o("el-main"),d=o("el-container");return c(),h("div",me,[s(d,null,{default:n(()=>[s(t),s(d,null,{default:n(()=>[s(p,null,{default:n(()=>[s(l)]),_:1}),s(r,null,{default:n(()=>[s(g),s(v)]),_:1})]),_:1})]),_:1})])}const fe=w(de,[["render",pe]]);export{fe as default};
