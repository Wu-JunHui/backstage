import{_ as x,c as R,o as c,a as d,w as n,b as p,d as s,e as v,t as C,f as H,u as T,g as B,E as V,m as L,r as o,h as D,i as h,j as $,F as y,k as M,l as N,n as U}from"./index-65ef6781.js";import{_ as E}from"./logoDark-f954f75b.js";const j="/backstage/assets/defaultUser-867c94b4.svg",z="/backstage/assets/logo-e3f620f9.svg",F="/backstage/assets/logoDark-d41f61f3.svg",O="/backstage/assets/mobileTips-64724a02.svg";const q={setup(){let l=T(),_=B();const u=a=>new URL(Object.assign({"../assets/defaultUser.svg":j,"../assets/logo.svg":z,"../assets/logoDark.svg":F,"../assets/mobileTips.svg":O})[`../assets/${a}.svg`],self.location).href;let e=()=>{l.commit("updateBarCollapse")};const g=R(()=>l.state.currentMenu);return{getImgSrc:u,hideSidebar:e,current:g,logoutHandler:()=>{V.confirm("确定退出登录吗?","提示",{type:"warning",icon:L(D),cancelButtonText:"取消",confirmButtonText:"确定",confirmButtonClass:"el-messageBox-confirm",cancelButtonClass:"el-messageBox-cancel"}).then(()=>{l.commit("isLogout"),_.push({name:"login"})}).catch(()=>{})},personHandler:()=>{_.push({name:"personal"})}}}},A={class:"h-left"},G={class:"h-right"},I={class:"el-dropdown-link"},J=["src"];function K(l,_,u,e,g,b){const t=o("Menu"),a=o("el-icon"),m=o("el-button"),f=o("el-breadcrumb-item"),k=o("el-breadcrumb"),r=o("el-dropdown-item"),i=o("el-dropdown-menu"),w=o("el-dropdown"),S=o("el-header");return c(),d(S,{class:"header-container"},{default:n(()=>[p("div",A,[s(m,{size:"small",color:"#e3d9d0",title:l.$store.state.barCollapse?"显示菜单":"折叠菜单",onClick:e.hideSidebar},{default:n(()=>[s(a,{size:18,color:"#2cb2c2"},{default:n(()=>[s(t)]),_:1})]),_:1},8,["title","onClick"]),s(k,{separator:"/",class:"bread"},{default:n(()=>[s(f,{to:{path:"/"}},{default:n(()=>[v("首页")]),_:1}),e.current?(c(),d(f,{key:0,to:e.current.path},{default:n(()=>[v(C(e.current.label),1)]),_:1},8,["to"])):H("",!0)]),_:1})]),p("div",G,[s(w,null,{dropdown:n(()=>[s(i,null,{default:n(()=>[s(r,{onClick:e.personHandler},{default:n(()=>[v("个人中心")]),_:1},8,["onClick"]),s(r,{onClick:e.logoutHandler},{default:n(()=>[v("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[p("span",I,[p("img",{src:e.getImgSrc("defaultUser"),alt:""},null,8,J)])]),_:1})])]),_:1})}const P=x(q,[["render",K]]);const Q={setup(){const l=B(),_=T(),u=_.state.sidebarMenu;return{noChildren:()=>u.filter(t=>!t.children),hasChildren:()=>u.filter(t=>t.children),clickMenu:t=>{l.push({name:t.name}),_.commit("selectSidebarMenu",t)}}}},W={class:"logo"},X=p("img",{src:E,alt:"logo"},null,-1),Y={key:0};function Z(l,_,u,e,g,b){const t=o("el-icon"),a=o("el-menu-item"),m=o("el-menu-item-group"),f=o("el-sub-menu"),k=o("el-menu");return c(),d(k,{class:"el-menu-vertical-demo",collapse:l.$store.state.barCollapse,"text-color":"#fff","active-text-color":"#2cb2c2","background-color":"#3b3c3d","default-active":l.$store.state.currentMenu?l.$store.state.currentMenu.path:"/home"},{default:n(()=>[p("div",W,[X,l.$store.state.barCollapse?H("",!0):(c(),h("h3",Y,"后台管理系统"))]),(c(!0),h(y,null,$(e.noChildren(),r=>(c(),d(a,{index:r.path,key:r.path,onClick:i=>e.clickMenu(r)},{default:n(()=>[s(t,null,{default:n(()=>[(c(),d(M(r.icon),{class:"icons"}))]),_:2},1024),p("span",null,C(r.label),1)]),_:2},1032,["index","onClick"]))),128)),(c(!0),h(y,null,$(e.hasChildren(),r=>(c(),d(f,{index:r.label,key:r.path},{title:n(()=>[s(t,null,{default:n(()=>[(c(),d(M(r.icon),{class:"icons"}))]),_:2},1024),p("span",null,C(r.label),1)]),default:n(()=>[s(m,null,{default:n(()=>[(c(!0),h(y,null,$(r.children,(i,w)=>(c(),d(a,{index:i.path,key:w,onClick:S=>e.clickMenu(i)},{default:n(()=>[s(t,null,{default:n(()=>[(c(),d(M(i.icon),{class:"icons"}))]),_:2},1024),p("span",null,C(i.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1},8,["collapse","default-active"])}const ee=x(Q,[["render",Z]]);const ne={setup(){const l=T(),_=B(),u=N(),e=l.state.tagList;return{tags:e,changeMenu:t=>{_.push({name:t.name})},closeTag:(t,a)=>{const m=e.length-1;l.commit("closeTag",t),t.name===u.name&&(a===m?_.push({name:e[a-1].name}):_.push({name:e[a].name}))}}}},te={class:"tag-container"};function oe(l,_,u,e,g,b){const t=o("el-tag");return c(),h("div",te,[(c(!0),h(y,null,$(e.tags,(a,m)=>(c(),d(t,{key:a.name,closable:a.name!=="home",effect:l.$route.name===a.name?"dark":"plain",onClick:f=>e.changeMenu(a),onClose:f=>e.closeTag(a,m)},{default:n(()=>[v(C(a.label),1)]),_:2},1032,["closable","effect","onClick","onClose"]))),128))])}const se=x(ne,[["render",oe]]);const ae=U({components:{Header:P,Sidebar:ee,Tags:se}}),le={class:"layout-container"};function ce(l,_,u,e,g,b){const t=o("Sidebar"),a=o("Header"),m=o("el-header"),f=o("Tags"),k=o("RouterView"),r=o("el-main"),i=o("el-container");return c(),h("div",le,[s(i,null,{default:n(()=>[s(t),s(i,null,{default:n(()=>[s(m,null,{default:n(()=>[s(a)]),_:1}),s(r,null,{default:n(()=>[s(f),s(k)]),_:1})]),_:1})]),_:1})])}const ue=x(ae,[["render",ce]]);export{ue as default};
